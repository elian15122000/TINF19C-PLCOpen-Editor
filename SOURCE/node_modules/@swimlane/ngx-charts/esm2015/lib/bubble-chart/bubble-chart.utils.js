import { scaleLinear, scalePoint, scaleTime } from 'd3-scale';
export function getDomain(values, scaleType, autoScale, minVal, maxVal) {
    let domain = [];
    if (scaleType === 'linear') {
        values = values.map(v => Number(v));
        if (!autoScale) {
            values.push(0);
        }
    }
    if (scaleType === 'time' || scaleType === 'linear') {
        const min = minVal ? minVal : Math.min(...values);
        const max = maxVal ? maxVal : Math.max(...values);
        domain = [min, max];
    }
    else {
        domain = values;
    }
    return domain;
}
export function getScale(domain, range, scaleType, roundDomains) {
    let scale;
    if (scaleType === 'time') {
        scale = scaleTime().range(range).domain(domain);
    }
    else if (scaleType === 'linear') {
        scale = scaleLinear().range(range).domain(domain);
        if (roundDomains) {
            scale = scale.nice();
        }
    }
    else if (scaleType === 'ordinal') {
        scale = scalePoint().range([range[0], range[1]]).domain(domain);
    }
    return scale;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnViYmxlLWNoYXJ0LnV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc3dpbWxhbmUvbmd4LWNoYXJ0cy9zcmMvbGliL2J1YmJsZS1jaGFydC9idWJibGUtY2hhcnQudXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRTlELE1BQU0sVUFBVSxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTyxFQUFFLE1BQU87SUFDdEUsSUFBSSxNQUFNLEdBQWEsRUFBRSxDQUFDO0lBQzFCLElBQUksU0FBUyxLQUFLLFFBQVEsRUFBRTtRQUMxQixNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDZCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO0tBQ0Y7SUFFRCxJQUFJLFNBQVMsS0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLFFBQVEsRUFBRTtRQUNsRCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFFbEQsTUFBTSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3JCO1NBQU07UUFDTCxNQUFNLEdBQUcsTUFBTSxDQUFDO0tBQ2pCO0lBRUQsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQWUsRUFBRSxTQUFTLEVBQUUsWUFBWTtJQUN2RSxJQUFJLEtBQVUsQ0FBQztJQUVmLElBQUksU0FBUyxLQUFLLE1BQU0sRUFBRTtRQUN4QixLQUFLLEdBQUcsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNqRDtTQUFNLElBQUksU0FBUyxLQUFLLFFBQVEsRUFBRTtRQUNqQyxLQUFLLEdBQUcsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVsRCxJQUFJLFlBQVksRUFBRTtZQUNoQixLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3RCO0tBQ0Y7U0FBTSxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUU7UUFDbEMsS0FBSyxHQUFHLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNqRTtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNjYWxlTGluZWFyLCBzY2FsZVBvaW50LCBzY2FsZVRpbWUgfSBmcm9tICdkMy1zY2FsZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21haW4odmFsdWVzLCBzY2FsZVR5cGUsIGF1dG9TY2FsZSwgbWluVmFsPywgbWF4VmFsPyk6IG51bWJlcltdIHtcbiAgbGV0IGRvbWFpbjogbnVtYmVyW10gPSBbXTtcbiAgaWYgKHNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICB2YWx1ZXMgPSB2YWx1ZXMubWFwKHYgPT4gTnVtYmVyKHYpKTtcbiAgICBpZiAoIWF1dG9TY2FsZSkge1xuICAgICAgdmFsdWVzLnB1c2goMCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNjYWxlVHlwZSA9PT0gJ3RpbWUnIHx8IHNjYWxlVHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICBjb25zdCBtaW4gPSBtaW5WYWwgPyBtaW5WYWwgOiBNYXRoLm1pbiguLi52YWx1ZXMpO1xuICAgIGNvbnN0IG1heCA9IG1heFZhbCA/IG1heFZhbCA6IE1hdGgubWF4KC4uLnZhbHVlcyk7XG5cbiAgICBkb21haW4gPSBbbWluLCBtYXhdO1xuICB9IGVsc2Uge1xuICAgIGRvbWFpbiA9IHZhbHVlcztcbiAgfVxuXG4gIHJldHVybiBkb21haW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsZShkb21haW4sIHJhbmdlOiBudW1iZXJbXSwgc2NhbGVUeXBlLCByb3VuZERvbWFpbnMpOiBhbnkge1xuICBsZXQgc2NhbGU6IGFueTtcblxuICBpZiAoc2NhbGVUeXBlID09PSAndGltZScpIHtcbiAgICBzY2FsZSA9IHNjYWxlVGltZSgpLnJhbmdlKHJhbmdlKS5kb21haW4oZG9tYWluKTtcbiAgfSBlbHNlIGlmIChzY2FsZVR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgc2NhbGUgPSBzY2FsZUxpbmVhcigpLnJhbmdlKHJhbmdlKS5kb21haW4oZG9tYWluKTtcblxuICAgIGlmIChyb3VuZERvbWFpbnMpIHtcbiAgICAgIHNjYWxlID0gc2NhbGUubmljZSgpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzY2FsZVR5cGUgPT09ICdvcmRpbmFsJykge1xuICAgIHNjYWxlID0gc2NhbGVQb2ludCgpLnJhbmdlKFtyYW5nZVswXSwgcmFuZ2VbMV1dKS5kb21haW4oZG9tYWluKTtcbiAgfVxuXG4gIHJldHVybiBzY2FsZTtcbn1cbiJdfQ==